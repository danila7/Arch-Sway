#Autostart
exec mako
exec udiskie
exec wl-paste -t text --watch clipman store
exec wl-paste -p -t text --watch clipman store -P --histpath="~/.local/share/clipman-primary.json"
exec gammastep -m wayland -l 55.7:37.6 -t 6500:4500

#Output configuration
output eDP-1 {
	res 1366x768@59.973000Hz
	background /home/$USER/real_home/Pictures/Wallpapers/desktop.jpg fill
	pos 0 0
}

output HDMI-A-1 {
        res 1920x1080@74.986000Hz
        background /home/$USER/real_home/Pictures/Wallpapers/desktop.jpg fill
	pos 1366 0
}

#Uncomment to have different layouts per window
exec "/home/$USER/scripts/keyboard-layout-per-window.py"

workspace 1

workspace 1 output HDMI-A-1
workspace 2 output HDMI-A-1
workspace 3 output HDMI-A-1
workspace 4 output HDMI-A-1
workspace 5 output HDMI-A-1
workspace 6 output eDP-1
workspace 7 output eDP-1
workspace 8 output eDP-1
workspace 9 output eDP-1
workspace 10 output eDP-1

bindswitch --reload --locked lid:on output eDP-1 disable
bindswitch --reload --locked lid:off output eDP-1 enable

#Locks PC before sleep and hibernation
exec swayidle -w before-sleep "/home/$USER/scripts/lock.sh"

### Input configuration
input "*" {
	xkb_layout "us,ru"
        xkb_options "grp:caps_toggle"
	xkb_numlock enabled
	}

input 1267:91:Elan_Touchpad {
#    events disabled_on_external_mouse
    middle_emulation enabled
    tap enabled
#   dwt enabled
}


#Bars configuration
bar {
font pango:DejaVu Sans Mono, Font Awesome 5 Free
    position top
    output eDP-1
    status_command /usr/bin/i3status-rs ~/.config/i3status-rust/config.toml
    colors {
        separator #666666
        background #222222
        statusline #dddddd
        focused_workspace #0088CC #0088CC #ffffff
        active_workspace #333333 #333333 #ffffff
        inactive_workspace #333333 #333333 #888888
        urgent_workspace #2f343a #900000 #ffffff
    }
}

bar {
font pango:DejaVu Sans Mono, Font Awesome 5 Free
    position top
    output HDMI-A-1
    status_command /usr/bin/i3status-rs ~/.config/i3status-rust/config2.toml
    colors {
        separator #666666
        background #222222
        statusline #dddddd
        focused_workspace #0088CC #0088CC #ffffff
        active_workspace #333333 #333333 #ffffff
        inactive_workspace #333333 #333333 #888888
        urgent_workspace #2f343a #900000 #ffffff
    }
}

#Borders colors
set $cl_foc "#ffcc1b"
set $cl_unf "#57544a"
set $cl_fin "#786a37"
set $cl_urg "#c40404"
set $cl_ind "#ff0000"
set $cl_bgr "#191a24"
set $cl_txt "#ffffff" 

#                         border   bg       text      indicator   childborder
client.focused            $cl_foc  $cl_bgr  $cl_txt   $cl_ind     $cl_foc
client.focused_inactive   $cl_fin  $cl_bgr  $cl_txt   $cl_ind     $cl_fin
client.unfocused          $cl_unf  $cl_bgr  $cl_txt   $cl_ind     $cl_unf
client.urgent             $cl_urg  $cl_bgr  $cl_txt   $cl_ind     $cl_urg


#Windows' configuration
for_window [app_id="pavucontrol"] floating enable
for_window [app_id="nmtui"] floating enable
for_window [title="Device connected - Mozilla Firefox"] floating enable
for_window [title="Picture-in-Picture" app_id="firefox"] floating enable
for_window [title="Picture in picture"] floating enable
for_window [title="Picture-in-Picture" app_id="firefox"] sticky enable
for_window [title="Picture in picture"] sticky enable
for_window [title="win0"] floating enable
for_window [title="Open Files"] floating enable
for_window [title="Save File"] floating enable


default_floating_border pixel 3
default_border pixel 2
smart_gaps on
smart_borders on
gaps inner 5
gaps outer 3
titlebar_border_thickness 0

include ~/.config/sway/*
include /etc/sway/config.d/*
